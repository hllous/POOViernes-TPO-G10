@startuml Galaga Component Corrected

' --- INTERFACES ---
package "interfaces.menu" {
    interface IMenu {
        + reanudar()
        + reiniciar()
        + salir()
    }
}

package "interfaces.galaga" {
    interface IEntidad {
        + mover()
        + dibujar(Graphics g)
        + getX(): int
        + getY(): int
        + getAncho(): int
        + getAlto(): int
    }
}

' --- MODELS.MENUS PACKAGE (RELATED TO GALAGA) ---
package "models.menus" {
    class MainMenu {
        - frame: JFrame
        - snakeBoton: JButton
        - galagaButton: JButton
        - marioBrosBoton: JButton
        - exitBoton: JButton
        - backgroundGif: ImageIcon
        - repaintTimer: Timer
        - backgroundMusic: Clip

        + MainMenu(JFrame)
        + loadFont(float): Font
        + crearBotonMenu(String): JButton
        + actionPerformed(ActionEvent)
        # paintComponent(Graphics)
        - playBackgroundMusic(String)
    }

    class GalagaMenu {
        - frame: JFrame
        - jugarBoton: JButton
        - volverBoton: JButton
        - estrellasTimer: Timer
        - random: Random
        - estrellas: FondoGalaga[]
        - NUM_ESTRELLAS: int

        + GalagaMenu(JFrame)
        + crearBotonMenu(String): JButton
        + loadFont(float): Font
        + actionPerformed(ActionEvent)
        # paintComponent(Graphics)
        - inicializarComponentes()
        - inicializarEstrellas()
        - actualizarEstrellas()
    }
}

' --- MODELS.GALAGA PACKAGE ---
package "models.galaga" {
    class GalagaPanel {
        - menuPausa: JPanel
        - menuGameOver: JPanel
        - btnReanudar: JButton
        - btnReiniciar: JButton
        - btnSalir: JButton
        - btnReiniciarGameOver: JButton
        - btnSalirGameOver: JButton
        - repaintTimer: Timer
        - random: Random
        - frame: JFrame
        - gameThread: Thread
        - running: boolean
        - pausado: boolean
        - gameOver: boolean
        - jugador: Jugador
        - disparos: ArrayList<Disparo>
        - enemigos: ArrayList<Enemigo>
        - disparosEnemigos: ArrayList<DisparoEnemigo>
        - izquierda: boolean
        - derecha: boolean
        - disparar: boolean
        - contadorSpawn: int
        - score: int
        - vidas: int
        - delaySpawn: int
        - estrellas: FondoGalaga[]
        - NUM_ESTRELLAS: int

        + GalagaPanel(JFrame)
        + startGame()
        + run()
        + reanudar()
        + reiniciar()
        + salir()
        + crearBotonMenu(String): JButton
        + loadFont(float): Font
        + actionPerformed(ActionEvent)
        + keyPressed(KeyEvent)
        + keyReleased(KeyEvent)
        + keyTyped(KeyEvent)
        # paintComponent(Graphics)
        # addNotify()
        - inicializarEstrellas()
        - actualizarEstrellas()
        - crearMenuPausa()
        - crearMenuGameOver()
        - actualizar()
        - actualizarDisparos()
        - actualizarEnemigos()
        - generarEnemigos()
        - comprobarColisiones()
        - activarGameOver()
    }

    class Disparo {
        + x: int
        + y: int
        - velocidad: int
        - activo: boolean
        - ANCHO: int
        - ALTO: int

        + Disparo(int, int)
        + mover()
        + dibujar(Graphics)
        + getBounds(): Rectangle
        + estaActivo(): boolean
        + desactivar()
    }

    class DisparoEnemigo {
        + x: int
        + y: int
        - velocidad: int
        - activo: boolean
        - ANCHO: int
        - ALTO: int

        + DisparoEnemigo(int, int)
        + destruir()
        + mover()
        + dibujar(Graphics)
        + estaActivo(): boolean
        + getBounds(): Rectangle
    }

    class FondoGalaga {
        + x: int
        + y: int
        + tamaño: int
        + color: Color
        + velocidad: float

        + FondoGalaga(int, int)
        + reiniciar(int, int)
        + mover(int, int)
        + dibujar(Graphics)
    }

    enum EstadoJuego {
        MENU
        JUGANDO
        PAUSA
        GAMEOVER
    }
}

' --- MODELS.GALAGA.ENTIDADES PACKAGE ---
package "models.galaga.entidades" {
    abstract class Entidad {
        # x: int
        # y: int
        # activa: boolean

        + Entidad(int, int)
        + {abstract} mover()
        + estaActiva(): boolean
    }
}

' --- MODELS.GALAGA.ENTIDADES.JUGADOR PACKAGE ---
package "models.galaga.entidades.jugador" {
    class Jugador {
        + x: int
        + y: int
        - velocidad: int
        - limitePantalla: int
        - textura: Image
        - ANCHO: int
        - ALTO: int

        + Jugador(int, int)
        + setLimitePantalla(int)
        + moverIzquierda()
        + moverDerecha()
        + getIcono(): Image
        + getTextura(): Image
        + getBounds(): Rectangle
        + getAncho(): int
        + getAlto(): int
        + dibujar(Graphics)
    }
}

' --- MODELS.GALAGA.ENTIDADES.ENEMIGOS PACKAGE ---
package "models.galaga.entidades.enemigos" {
    abstract class Enemigo {
        # velocidad: int
        # activo: boolean
        # textura: Image
        # vida: int

        + Enemigo(int, int, int, String)
        + dibujar(Graphics)
        + getBounds(): Rectangle
        + destruir()
        + estaActivo(): boolean
        + getX(): int
        + setX(int)
        + getY(): int
        + setY(int)
        + {abstract} getAncho(): int
        + {abstract} getAlto(): int
        + {abstract} getColor(): Color
        + recibirDaño(int)
    }

    class EnemigoBasico {
        - ANCHO: int
        - ALTO: int
        - texturaCacheada: Image

        + EnemigoBasico(int, int)
        + mover()
        + getAncho(): int
        + getAlto(): int
        + getColor(): Color
    }

    class EnemigoPesado {
        - ANCHO: int
        - ALTO: int
        - img: Image

        + EnemigoPesado(int, int)
        + mover()
        + getAncho(): int
        + getAlto(): int
        + dibujar(Graphics)
        + getColor(): Color
    }

    class EnemigoRapido {
        - ANCHO: int
        - ALTO: int
        - img: Image

        + EnemigoRapido(int, int)
        + mover()
        + getAncho(): int
        + getAlto(): int
        + dibujar(Graphics)
        + getColor(): Color
    }
}

' --- IMPLEMENTATIONS OF INTERFACES ---
MainMenu ..|> IMenu
GalagaMenu ..|> IMenu
models.galaga.entidades.Entidad ..|> interfaces.galaga.IEntidad
models.galaga.entidades.enemigos.Enemigo --|> models.galaga.entidades.Entidad

' --- INHERITANCE RELATIONSHIPS ---
EnemigoBasico --|> models.galaga.entidades.enemigos.Enemigo
EnemigoPesado --|> models.galaga.entidades.enemigos.Enemigo
EnemigoRapido --|> models.galaga.entidades.enemigos.Enemigo

' --- NAVIGATION BETWEEN CLASSES ---
MainMenu ..> GalagaMenu : crea
GalagaMenu ..> MainMenu : crea
GalagaMenu ..> GalagaPanel : crea
GalagaPanel ..> GalagaMenu : crea

' --- COMPOSITION & ASSOCIATION RELATIONSHIPS ---
GalagaPanel *-- Jugador : contiene
GalagaPanel *-- Disparo : contiene
GalagaPanel *-- models.galaga.entidades.enemigos.Enemigo : contiene
GalagaPanel *-- DisparoEnemigo : contiene
GalagaPanel *-- FondoGalaga : contiene
GalagaMenu *-- FondoGalaga : contiene
GalagaPanel ..> EstadoJuego : usa

' --- INTERACTION RELATIONSHIPS ---
Disparo ..> models.galaga.entidades.enemigos.Enemigo : interactua con
DisparoEnemigo ..> Jugador : interactua con

@enduml